{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="container">
	<div class="row">
		<div class="col">

			<h1>Locations</h1>

			<p>
				<a href="{% url 'ambulance:location_create' %}">new</a>
			</p>

            <h2>Bases</h2>

            {% if base_list %}

			<table class="table table-striped table-sm">
				<thead>
				<tr>
					<th>Name</th>
					<th>Address</th>
					<th>Comments</th>
					<th>Updated on</th>
					<th>by</th>
				</tr>
				</thead>
				<tbody>
				{% for location in base_list %}
				<tr>
					<td>
						<a href="{% url 'ambulance:location_detail' pk=location.id %}">{{ location.name }}</a>
					</td>
					<td>
						{{ location.get_address }}
					</td>
					<td>{{ location.comment }}</td>
					<td>{{ location.updated_on }}</td>
					<td>{{ location.updated_by.username }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>

            {% else %}

            <p>No bases have been created yet.</p>

            {% endif %}

            <h2>AEDs</h2>

            {% if aed_list %}

			<table class="table table-striped table-sm">
				<thead>
				<tr>
					<th>Name</th>
					<th>Address</th>
					<th>Comments</th>
					<th>Updated on</th>
					<th>by</th>
				</tr>
				</thead>
				<tbody>
				{% for location in aed_list %}
				<tr>
					<td>
						<a href="{% url 'ambulance:location_detail' pk=location.id %}">{{ location.name }}</a>
					</td>
					<td>
						{{ location.get_address }}
					</td>
					<td>{{ location.comment }}</td>
					<td>{{ location.updated_on }}</td>
					<td>{{ location.updated_by.username }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>

            {% else %}

            <p>No aeds have been created yet.</p>

            {% endif %}
        
        </div>
	</div>

    <h2>Incident</h2>

    {% if incident_list.has_other_pages %}
    <div class="row">
        <div class="col">
            {% include "pagination/numbers.html" %}
        </div>
        <div class="col float-right">
            {% include "pagination/sizes.html" %}
        </div>
    </div>
    {% endif %}

    <div class="row">
        <div class="col">

            {% if incident_list %}

            <table class="table table-striped table-sm">
                <thead>
				<tr>
					<th>Address</th>
					<th>Comments</th>
					<th>Updated on</th>
					<th>by</th>
				</tr>
                </thead>
                <tbody>
				{% for location in incident_list %}
				<tr>
					<td>
                        <a href="{% url 'ambulance:location_detail' pk=location.id %}">{{ location.get_address }}</a>
					</td>
					<td>{{ location.comment }}</td>
					<td>{{ location.updated_on }}</td>
					<td>{{ location.updated_by.username }}</td>
				</tr>
				{% endfor %}
                </tbody>
            </table>

            {% else %}

                <p>
                    No incident have been created yet.
                </p>

            {% endif %}

        </div>
    </div>

    {% if incident_list.has_other_pages %}
    <div class="row">
        <div class="col">
            {% include "pagination/numbers.html" %}
        </div>
        <div class="col float-right">
            {% include "pagination/sizes.html" %}
        </div>
    </div>
    {% endif %}

</div>

{% endblock %}
